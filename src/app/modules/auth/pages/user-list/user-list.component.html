<div class="flex flex-col items-center min-h-screen bg-gray-100 p-4 pt-10">
    
    <div class="w-full max-w-3xl bg-white p-8 rounded-xl shadow-2xl space-y-8">
        
        <header class="text-center border-b pb-4">
            <h1 class="text-3xl font-bold text-center text-indigo-700">Registrasi & Manajemen Pengguna</h1>
        </header>

        <div class="space-y-4 pt-6 border-t border-gray-200">
            <h2 class="text-xl font-semibold text-gray-700 border-b pb-2">Daftar Pengguna Aktif</h2>
            
            <ul class="divide-y divide-gray-200 rounded-lg overflow-hidden border border-gray-200 shadow-sm">
                <li *ngFor="let u of users; let i = index" 
                    class="flex flex-col md:flex-row items-start md:items-center justify-between p-4 transition duration-150"
                    [ngClass]="i % 2 === 0 ? 'bg-white' : 'bg-gray-50'">
                    
                    <div class="flex flex-col md:flex-row md:items-center space-y-1 md:space-y-0 md:space-x-4 mb-2 md:mb-0 w-full md:w-auto">
                        <span class="user-id text-xs font-mono text-gray-500 min-w-[50px]">ID: {{ u.id }}</span>
                        <span class="username-display font-semibold text-gray-800">{{ u.username }}</span>
                        <span class="separator hidden md:inline text-gray-300">|</span>
                        <span class="email-display text-sm text-indigo-600 truncate">{{ u.email | lowercase }}</span>
                    </div>

                    <div class="flex space-x-3 mt-2 md:mt-0">
                        <button (click)="updateUser(u.id)"
                                class="px-3 py-1 text-sm rounded-lg font-medium text-white bg-blue-500 hover:bg-blue-600 transition duration-150 shadow-md">
                            Update User
                        </button> 
                        <button (click)="deleteUser(u.id)"
                                class="px-3 py-1 text-sm rounded-lg font-medium text-white bg-red-500 hover:bg-red-600 transition duration-150 shadow-md">
                            Delete User
                        </button>
                    </div>
                </li>
                <li *ngIf="users?.length === 0" class="p-4 text-center text-gray-500 bg-white">
                    Belum ada pengguna terdaftar.
                </li>
            </ul>
        </div>

        <div class="pt-4">
            <h2 class="text-xl font-semibold text-gray-700 mb-4 border-b pb-2">Tambah Pengguna Baru</h2>
            <app-auth-form (formSubmitted)="postUser($event)"></app-auth-form>
        </div>

        <div class="pt-4 border-t border-gray-200 text-center">
            <button (click)="logout()"
                    class="px-8 py-2 rounded-lg font-semibold text-white bg-gray-700 hover:bg-gray-800 transition duration-200 shadow-lg">
                Logout
            </button>
        </div>
        
    </div>
</div>